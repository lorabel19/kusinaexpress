<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>KusinaExpress | Login</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<style>
/* CSS Variables for theming */
:root {
  --primary-color: #C62828; /* Vibrant Red */
  --primary-dark: #8E1B1B;
  --secondary-color: #FF9800; /* Orange */
  --secondary-light: #FFB74D;
  --accent-color: #FF5722; /* Deep Orange */
  --background-color: #FAFAFA;
  --surface-color: #FFFFFF;
  --text-primary: #212121;
  --text-secondary: #757575;
  --text-light: #FFFFFF;
  --divider-color: #E0E0E0;
  --success-color: #4CAF50;
  --warning-color: #F44336;
  --info-color: #2196F3;
  --shadow-light: 0 5px 15px rgba(0, 0, 0, 0.05);
  --shadow-medium: 0 10px 25px rgba(0, 0, 0, 0.1);
  --shadow-heavy: 0 15px 30px rgba(0, 0, 0, 0.15);
  --border-radius: 12px;
  --transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
}

* { 
  margin: 0; 
  padding: 0; 
  box-sizing: border-box; 
}

body { 
  font-family: 'Poppins', sans-serif;
  background-color: var(--background-color); 
  color: var(--text-primary); 
  line-height: 1.6;
  overflow-x: hidden;
  display: flex;
  flex-direction: column;
  min-height: 100vh;
}

/* Container for consistent width */
.container {
  width: 100%;
  max-width: 1280px;
  margin: 0 auto;
  padding: 0 20px;
}

/* Login Error Message (Inside Form) */
.login-error-message {
  background: linear-gradient(135deg, #F44336, #D32F2F);
  color: white;
  padding: 15px 20px;
  border-radius: var(--border-radius);
  margin-bottom: 20px;
  display: flex;
  align-items: center;
  gap: 12px;
  font-size: 14px;
  font-weight: 500;
  box-shadow: var(--shadow-light);
  animation: slideInDown 0.4s ease;
}

.login-error-message i {
  font-size: 18px;
  flex-shrink: 0;
}

.login-error-message.hidden {
  display: none;
}

@keyframes slideInDown {
  from {
    transform: translateY(-20px);
    opacity: 0;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
}

/* --- Modern Header --- */
header {
  background-color: var(--surface-color);
  padding: 20px 0;
  position: sticky;
  top: 0;
  z-index: 1000;
  box-shadow: var(--shadow-light);
}

.header-content {
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.logo {
  display: flex;
  align-items: center;
  gap: 10px;
}

.logo-icon {
  color: var(--primary-color);
  font-size: 28px;
}

.logo h1 {
  font-size: 28px;
  font-weight: 800;
  background: linear-gradient(135deg, var(--primary-color), var(--accent-color));
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent;
  letter-spacing: -0.5px;
}

/* Modern Navigation */
.desktop-nav {
  display: flex;
  align-items: center;
  gap: 30px;
}

.nav-links {
  display: flex;
  gap: 25px;
}

.nav-links a {
  color: var(--text-primary);
  text-decoration: none;
  font-weight: 500;
  font-size: 16px;
  position: relative;
  padding: 5px 0;
  transition: var(--transition);
}

.nav-links a:hover {
  color: var(--primary-color);
}

.nav-links a::after {
  content: '';
  position: absolute;
  bottom: 0;
  left: 0;
  width: 0;
  height: 2px;
  background-color: var(--primary-color);
  transition: width 0.3s ease;
}

.nav-links a:hover::after {
  width: 100%;
}

.auth-buttons {
  display: flex;
  gap: 15px;
  align-items: center;
}

.btn {
  padding: 10px 24px;
  border-radius: 50px;
  font-weight: 600;
  font-size: 15px;
  cursor: pointer;
  transition: var(--transition);
  border: none;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  position: relative;
  text-decoration: none;
}

.btn-primary {
  background-color: var(--primary-color);
  color: var(--text-light);
}

.btn-primary:hover {
  background-color: var(--primary-dark);
  transform: translateY(-2px);
  box-shadow: var(--shadow-medium);
}

.btn-secondary {
  background-color: transparent;
  color: var(--primary-color);
  border: 2px solid var(--primary-color);
}

.btn-secondary:hover {
  background-color: var(--primary-color);
  color: var(--text-light);
  transform: translateY(-2px);
}

.cart-count {
  position: absolute;
  top: -8px;
  right: -8px;
  background-color: var(--accent-color);
  color: white;
  border-radius: 50%;
  width: 20px;
  height: 20px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 12px;
  font-weight: 600;
  line-height: 1;
}

.cart-count.empty {
  display: none;
}

/* Hamburger menu for mobile */
.menu-toggle {
  display: none;
  flex-direction: column;
  justify-content: space-between;
  width: 30px;
  height: 21px;
  background: transparent;
  border: none;
  cursor: pointer;
  padding: 0;
  z-index: 1001;
}

.menu-toggle span {
  width: 100%;
  height: 3px;
  background-color: var(--primary-color);
  border-radius: 10px;
  transition: var(--transition);
}

.menu-toggle.active span:nth-child(1) {
  transform: rotate(45deg) translate(6px, 6px);
}

.menu-toggle.active span:nth-child(2) {
  opacity: 0;
}

.menu-toggle.active span:nth-child(3) {
  transform: rotate(-45deg) translate(6px, -6px);
}

/* Mobile Navigation */
.mobile-nav {
  position: fixed;
  top: 0;
  right: -100%;
  width: 80%;
  max-width: 320px;
  height: 100vh;
  background-color: var(--surface-color);
  box-shadow: var(--shadow-heavy);
  padding: 80px 30px 30px;
  z-index: 999;
  transition: right 0.4s ease;
  display: flex;
  flex-direction: column;
  gap: 25px;
}

.mobile-nav.active {
  right: 0;
}

.mobile-nav a {
  color: var(--text-primary);
  text-decoration: none;
  font-size: 18px;
  font-weight: 500;
  padding: 12px 0;
  border-bottom: 1px solid var(--divider-color);
  display: flex;
  align-items: center;
  gap: 15px;
}

.mobile-nav a i {
  color: var(--primary-color);
  width: 24px;
}

.overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0, 0, 0, 0.5);
  z-index: 998;
  display: none;
}

.overlay.active {
  display: block;
}

/* --- Login Modal --- */
.login-modal, .create-account-modal {
  display: none;
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0, 0, 0, 0.7);
  z-index: 9999;
  align-items: center;
  justify-content: center;
  padding: 20px;
}

.modal-content {
  background: var(--surface-color);
  border-radius: var(--border-radius);
  padding: 40px;
  max-width: 450px;
  width: 100%;
  box-shadow: var(--shadow-heavy);
  position: relative;
  max-height: 90vh;
  overflow-y: auto;
}

.modal-content.small {
  max-width: 400px;
  text-align: center;
}

.modal-close {
  position: absolute;
  top: 20px;
  right: 20px;
  background: none;
  border: none;
  color: var(--text-secondary);
  font-size: 24px;
  cursor: pointer;
  transition: var(--transition);
  width: 40px;
  height: 40px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 50%;
}

.modal-close:hover {
  background-color: rgba(0, 0, 0, 0.05);
  color: var(--text-primary);
}

.modal-content i {
  font-size: 48px;
  color: var(--primary-color);
  margin-bottom: 20px;
}

.modal-content h3 {
  font-size: 24px;
  font-weight: 700;
  margin-bottom: 10px;
  color: var(--text-primary);
}

.modal-content p {
  color: var(--text-secondary);
  margin-bottom: 25px;
  line-height: 1.6;
}

.modal-buttons {
  display: flex;
  gap: 15px;
  justify-content: center;
  margin-top: 30px;
}

.modal-buttons .btn {
  min-width: 120px;
}

/* --- COMPACT CREATE ACCOUNT FORM --- */
.create-account-form {
  display: flex;
  flex-direction: column;
  gap: 15px;
  margin-top: 15px;
}

.create-account-form .form-group {
  text-align: left;
  position: relative;
}

.create-account-form .form-group label {
  display: block;
  margin-bottom: 5px;
  color: var(--text-primary);
  font-weight: 500;
  font-size: 13px;
}

.create-account-form .input-wrapper {
  position: relative;
}

.create-account-form .input-wrapper i {
  position: absolute;
  left: 15px;
  top: 50%;
  transform: translateY(-50%);
  color: var(--text-secondary);
  font-size: 16px;
  transition: var(--transition);
  z-index: 2;
}

.create-account-form input {
  width: 100%;
  padding: 12px 12px 12px 45px;
  border: 2px solid var(--divider-color);
  border-radius: 8px;
  font-size: 14px;
  font-family: 'Poppins', sans-serif;
  transition: var(--transition);
  background: var(--surface-color);
  color: var(--text-primary);
  box-sizing: border-box;
}

.create-account-form input:focus {
  outline: none;
  border-color: var(--primary-color);
  box-shadow: 0 0 0 3px rgba(198, 40, 40, 0.1);
}

.create-account-form input:focus + i {
  color: var(--primary-color);
}

.create-account-form .password-toggle {
  position: absolute;
  right: 15px;
  top: 50%;
  transform: translateY(-50%);
  background: none;
  border: none;
  color: var(--text-secondary);
  cursor: pointer;
  font-size: 16px;
  transition: var(--transition);
  z-index: 2;
  padding: 0;
  width: 25px;
  height: 25px;
  display: flex;
  align-items: center;
  justify-content: center;
}

.create-account-form .password-toggle:hover {
  color: var(--primary-color);
}

.create-account-form .validation-message {
  font-size: 11.5px;
  margin-top: 3px;
  display: none;
  padding: 4px 8px;
  border-radius: 4px;
  font-weight: 500;
}

.create-account-form .validation-message.error {
  color: var(--warning-color);
  background: rgba(244, 67, 54, 0.1);
  display: block;
}

.create-account-form .validation-message.success {
  color: var(--success-color);
  background: rgba(76, 175, 80, 0.1);
  display: block;
}

.name-fields {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 12px;
}

.password-strength {
  margin-top: 8px;
  height: 4px;
  border-radius: 4px;
  background-color: var(--divider-color);
  overflow: hidden;
  position: relative;
}

.password-strength-fill {
  height: 100%;
  width: 0%;
  transition: width 0.3s ease;
  border-radius: 4px;
}

.password-strength.weak .password-strength-fill {
  background-color: var(--warning-color);
  width: 30%;
}

.password-strength.medium .password-strength-fill {
  background-color: var(--secondary-color);
  width: 60%;
}

.password-strength.strong .password-strength-fill {
  background-color: var(--success-color);
  width: 100%;
}

.password-strength-text {
  font-size: 11px;
  margin-top: 4px;
  color: var(--text-secondary);
  text-align: right;
}

.terms-agreement {
  display: flex;
  align-items: flex-start;
  gap: 8px;
  margin: 8px 0;
}

.terms-agreement input[type="checkbox"] {
  margin-top: 2px;
  width: 14px;
  height: 14px;
  accent-color: var(--primary-color);
}

.terms-agreement label {
  font-size: 12px;
  color: var(--text-secondary);
  line-height: 1.4;
  cursor: pointer;
}

.terms-agreement label a {
  color: var(--primary-color);
  text-decoration: none;
  font-weight: 500;
}

.terms-agreement label a:hover {
  text-decoration: underline;
}

/* Compact create account button with white icon */
.create-account-btn {
  background: var(--primary-color);
  color: var(--text-light);
  padding: 14px;
  border: none;
  border-radius: 8px;
  font-weight: 600;
  font-size: 15px;
  cursor: pointer;
  transition: var(--transition);
  margin-top: 5px;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  width: 100%;
}

.create-account-btn:hover {
  background: var(--primary-dark);
  transform: translateY(-2px);
  box-shadow: var(--shadow-medium);
}

.create-account-btn:disabled {
  background: var(--text-secondary);
  cursor: not-allowed;
  transform: none;
  box-shadow: none;
}

.create-account-btn i {
  color: white !important;
  font-size: 16px;
}

.create-account-switch {
  margin-top: 20px;
  font-size: 14px;
  color: var(--text-secondary);
  line-height: 1.5;
  text-align: center;
}

.create-account-switch a {
  color: var(--primary-color);
  font-weight: 600;
  text-decoration: none;
  transition: var(--transition);
  position: relative;
  cursor: pointer;
}

.create-account-switch a::after {
  content: '';
  position: absolute;
  bottom: -1px;
  left: 0;
  width: 0;
  height: 1px;
  background: var(--primary-color);
  transition: width 0.3s ease;
}

.create-account-switch a:hover::after {
  width: 100%;
}

/* --- MODERN LOGIN CONTENT ONLY --- */
main {
  display: flex;
  justify-content: center;
  align-items: center;
  padding : 20px 20px;
  background: linear-gradient(135deg, rgba(198, 40, 40, 0.05) 0%, rgba(255, 152, 0, 0.05) 100%);
  min-height: calc(100vh - 200px);
  flex: 1;
}

/* LONG CONTAINER WITH REDUCED HEIGHT */
.login-container {
  display: flex;
  width: 100%;
  max-width: 1200px;
  border-radius: var(--border-radius);
  overflow: hidden;
  box-shadow: var(--shadow-heavy);
  background-color: var(--surface-color);
  position: relative;
  height: 900px; /* Reduced height */
}

.login-container::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 5px;
  background: linear-gradient(90deg, var(--primary-color), var(--secondary-color));
}

.left-side {
  flex: 1.2;
  min-width: 300px;
  background: linear-gradient(rgba(0, 0, 0, 0.85), rgba(0, 0, 0, 0.85)), 
              url('https://images.unsplash.com/photo-1565299624946-b28f40a0ae38?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80') center/cover no-repeat;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  color: var(--text-light);
  padding: 40px 35px;
  text-align: center;
  position: relative;
}

.left-side-content {
  position: relative;
  z-index: 2;
  max-width: 450px;
}

.left-side h2 {
  font-size: 36px;
  font-weight: 800;
  margin-bottom: 20px;
  line-height: 1.1;
  text-shadow: 0 2px 10px rgba(0,0,0,0.3);
}

.left-side p {
  font-size: 16px;
  margin-bottom: 35px;
  line-height: 1.6;
  opacity: 0.9;
}

.features {
  display: flex;
  flex-direction: column;
  gap: 18px;
  margin-top: 35px;
}

.feature {
  display: flex;
  align-items: center;
  gap: 15px;
  text-align: left;
}

.feature i {
  width: 40px;
  height: 40px;
  border-radius: 8px;
  background: rgba(255, 255, 255, 0.1);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 18px;
  color: var(--secondary-color);
  flex-shrink: 0;
}

.feature span {
  font-size: 16px;
  font-weight: 500;
  line-height: 1.5;
}

.right-side {
  flex: 1;
  min-width: 400px;
  display: flex;
  justify-content: center;
  align-items: center;
  padding: 40px 35px;
  background: var(--surface-color);
  position: relative;
}

.auth-container {
  background: var(--surface-color);
  padding: 40px 35px;
  border-radius: var(--border-radius);
  width: 100%;
  max-width: 420px;
  text-align: center;
  border: 1px solid rgba(198, 40, 40, 0.1);
}

.auth-header {
  margin-bottom: 20px;
}

.auth-header h2 {
  color: var(--text-primary);
  font-size: 28px;
  margin-bottom: 10px;
  font-weight: 800;
  background: linear-gradient(135deg, var(--primary-color), var(--accent-color));
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent;
}

.auth-header p {
  color: var(--text-secondary);
  font-size: 15px;
  line-height: 1.6;
}

.role-selection {
  display: flex;
  width: 100%;
  margin-bottom: 20px;
  border-radius: 12px;
  overflow: hidden;
  border: 1px solid var(--divider-color);
  background: var(--background-color);
  padding: 6px;
}

.role-selection button {
  flex: 1;
  padding: 16px 0;
  border: none;
  background: transparent;
  color: var(--text-secondary);
  font-weight: 600;
  cursor: pointer;
  transition: var(--transition);
  font-size: 15px;
  border-radius: 8px;
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
}

.role-selection button i {
  font-size: 16px;
}

.role-selection button.active {
  background: var(--surface-color);
  color: var(--primary-color);
  box-shadow: var(--shadow-light);
}

.role-selection button.active.admin {
  background: linear-gradient(135deg, var(--primary-color), var(--accent-color));
  color: white;
}

.role-selection button.active.user {
  background: linear-gradient(135deg, #4CAF50, #8BC34A);
  color: white;
}

.role-selection button:hover:not(.active) {
  background: rgba(198, 40, 40, 0.05);
}

form {
  display: flex;
  flex-direction: column;
  gap: 20px;
  width: 100%;
}

.form-group {
  text-align: left;
  position: relative;
}

.form-group label {
  display: block;
  margin-bottom: 8px;
  color: var(--text-primary);
  font-weight: 500;
  font-size: 14px;
}

.input-wrapper {
  position: relative;
}

.input-wrapper i {
  position: absolute;
  left: 18px;
  top: 50%;
  transform: translateY(-50%);
  color: var(--text-secondary);
  font-size: 18px;
  transition: var(--transition);
  z-index: 2;
}

input {
  width: 100%;
  padding: 16px 16px 16px 55px;
  border: 2px solid var(--divider-color);
  border-radius: var(--border-radius);
  font-size: 15px;
  font-family: 'Poppins', sans-serif;
  transition: var(--transition);
  background: var(--surface-color);
  color: var(--text-primary);
  box-sizing: border-box;
}

input:focus {
  outline: none;
  border-color: var(--primary-color);
  box-shadow: 0 0 0 4px rgba(198, 40, 40, 0.1);
}

input:focus + i {
  color: var(--primary-color);
}

.password-toggle {
  position: absolute;
  right: 18px;
  top: 50%;
  transform: translateY(-50%);
  background: none;
  border: none;
  color: var(--text-secondary);
  cursor: pointer;
  font-size: 18px;
  transition: var(--transition);
  z-index: 2;
  padding: 0;
  width: 30px;
  height: 30px;
  display: flex;
  align-items: center;
  justify-content: center;
}

.password-toggle:hover {
  color: var(--primary-color);
}

.remember-forgot {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin: 12px 0;
}

.remember-me {
  display: flex;
  align-items: center;
  gap: 8px;
}

.remember-me input[type="checkbox"] {
  width: 16px;
  height: 16px;
  accent-color: var(--primary-color);
}

.remember-me label {
  margin: 0;
  font-size: 14px;
  color: var(--text-secondary);
  cursor: pointer;
}

.forgot-password {
  font-size: 14px;
  color: var(--primary-color);
  text-decoration: none;
  font-weight: 500;
  transition: var(--transition);
}

.forgot-password:hover {
  color: var(--primary-dark);
  text-decoration: underline;
}

.submit-btn {
  background: var(--primary-color);
  color: var(--text-light);
  padding: 18px;
  border: none;
  border-radius: var(--border-radius);
  font-weight: 600;
  font-size: 16px;
  cursor: pointer;
  transition: var(--transition);
  margin-top: 10px;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 10px;
}

.submit-btn:hover {
  background: var(--primary-dark);
  transform: translateY(-2px);
  box-shadow: var(--shadow-medium);
}

.submit-btn:disabled {
  background: var(--text-secondary);
  cursor: not-allowed;
  transform: none;
  box-shadow: none;
}

.submit-btn i {
  color: white !important;
}

@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

.fa-spinner {
  animation: spin 1s linear infinite;
}

.divider {
  display: flex;
  align-items: center;
  margin: 30px 0;
  color: var(--text-secondary);
}

.divider::before,
.divider::after {
  content: '';
  flex: 1;
  height: 1px;
  background: var(--divider-color);
}

.divider span {
  padding: 0 15px;
  font-size: 14px;
}

.social-login {
  display: flex;
  gap: 15px;
}

.social-btn {
  flex: 1;
  padding: 16px;
  border: 2px solid var(--divider-color);
  border-radius: var(--border-radius);
  cursor: pointer;
  background: var(--surface-color);
  color: var(--text-primary);
  font-weight: 600;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 10px;
  transition: var(--transition);
  font-size: 15px;
}

.social-btn:hover {
  border-color: var(--primary-color);
  background: rgba(198, 40, 40, 0.05);
  transform: translateY(-2px);
}

.social-btn.google:hover {
  border-color: #DB4437;
  color: #DB4437;
  background: rgba(219, 68, 55, 0.05);
}

.social-btn.facebook:hover {
  border-color: #4267B2;
  color: #4267B2;
  background: rgba(66, 103, 178, 0.05);
}

.social-btn i {
  font-size: 20px;
}

.switch-auth {
  margin-top: 30px;
  font-size: 15px;
  color: var(--text-secondary);
  line-height: 1.6;
}

.switch-auth a {
  color: var(--primary-color);
  font-weight: 600;
  text-decoration: none;
  transition: var(--transition);
  position: relative;
  cursor: pointer;
}

.switch-auth a::after {
  content: '';
  position: absolute;
  bottom: -2px;
  left: 0;
  width: 0;
  height: 2px;
  background: var(--primary-color);
  transition: width 0.3s ease;
}

.switch-auth a:hover::after {
  width: 100%;
}

/* Form validation styles */
.input-wrapper.error input {
  border-color: var(--warning-color);
  background-color: rgba(244, 67, 54, 0.05);
}

.input-wrapper.success input {
  border-color: var(--success-color);
}

.input-wrapper.error i {
  color: var(--warning-color);
}

.validation-message {
  font-size: 12.5px;
  margin-top: 5px;
  display: none;
  padding: 5px 10px;
  border-radius: 4px;
  font-weight: 500;
}

.validation-message.error {
  color: var(--warning-color);
  background: rgba(244, 67, 54, 0.1);
  display: block;
}

.validation-message.success {
  color: var(--success-color);
  background: rgba(76, 175, 80, 0.1);
  display: block;
}

/* --- Footer --- */
footer {
  background-color: var(--text-primary);
  color: var(--text-light);
  padding: 60px 0 30px;
  margin-top: auto;
}

.footer-content {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 40px;
  margin-bottom: 40px;
}

.footer-logo {
  font-size: 28px;
  font-weight: 800;
  margin-bottom: 15px;
  color: var(--text-light);
}

.footer-description {
  color: rgba(255, 255, 255, 0.7);
  margin-bottom: 20px;
  line-height: 1.7;
}

.social-links {
  display: flex;
  gap: 15px;
}

.social-link {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 40px;
  height: 40px;
  background-color: rgba(255, 255, 255, 0.1);
  border-radius: 50%;
  color: var(--text-light);
  text-decoration: none;
  transition: var(--transition);
}

.social-link:hover {
  background-color: var(--primary-color);
  transform: translateY(-3px);
}

.footer-heading {
  font-size: 18px;
  font-weight: 600;
  margin-bottom: 20px;
  color: var(--text-light);
}

.footer-links {
  list-style: none;
}

.footer-links li {
  margin-bottom: 12px;
}

.footer-links a {
  color: rgba(255, 255, 255, 0.7);
  text-decoration: none;
  transition: var(--transition);
}

.footer-links a:hover {
  color: var(--secondary-color);
  padding-left: 5px;
}

.newsletter-form {
  display: flex;
  margin-top: 15px;
}

.newsletter-input {
  flex: 1;
  padding: 12px 15px;
  border: none;
  border-radius: 50px 0 0 50px;
  background-color: rgba(255, 255, 255, 0.1);
  color: var(--text-light);
  outline: none;
}

.newsletter-input::placeholder {
  color: rgba(255, 255, 255, 0.5);
}

.newsletter-btn {
  background-color: var(--primary-color);
  color: var(--text-light);
  border: none;
  border-radius: 0 50px 50px 0;
  padding: 0 20px;
  cursor: pointer;
  transition: var(--transition);
}

.newsletter-btn:hover {
  background-color: var(--primary-dark);
}

.copyright {
  text-align: center;
  padding-top: 30px;
  border-top: 1px solid rgba(255, 255, 255, 0.1);
  color: rgba(255, 255, 255, 0.5);
  font-size: 14px;
}

/* --- Responsive Design --- */
@media (max-width: 768px) {
  .header-content {
    padding: 0 15px;
  }
  
  .desktop-nav {
    display: none;
  }
  
  .menu-toggle {
    display: flex;
  }
  
  .login-container {
    flex-direction: column;
    max-width: 600px;
    margin: 0 auto;
    height: auto;
    min-height: 900px;
  }
  
  .left-side {
    flex: none;
    min-height: 350px;
    padding: 40px 30px;
  }
  
  .right-side {
    flex: none;
    min-width: 100%;
    padding: 40px 30px;
  }
  
  .auth-container {
    padding: 35px 30px;
    max-width: 500px;
    margin: 0 auto;
  }
  
  .social-login {
    flex-direction: column;
  }
  
  .footer-content {
    gap: 30px;
  }
  
  .modal-buttons {
    flex-direction: column;
  }
  
  .modal-buttons .btn {
    width: 100%;
  }
  
  .name-fields {
    grid-template-columns: 1fr;
  }
  
  .modal-content {
    padding: 30px 25px;
    max-width: 400px;
  }
}

@media (max-width: 480px) {
  main {
    padding: 20px 15px;
    min-height: calc(100vh - 180px);
  }
  
  .login-container {
    max-width: 100%;
    min-height: 850px;
  }
  
  .left-side {
    min-height: 300px;
    padding: 30px 20px;
  }
  
  .left-side h2 {
    font-size: 28px;
  }
  
  .left-side p {
    font-size: 15px;
    margin-bottom: 30px;
  }
  
  .feature {
    gap: 12px;
  }
  
  .feature i {
    width: 36px;
    height: 36px;
    font-size: 16px;
  }
  
  .right-side {
    padding: 30px 20px;
  }
  
  .auth-container {
    padding: 30px 25px;
  }
  
  .auth-header h2 {
    font-size: 26px;
  }
  
  .role-selection button {
    padding: 14px 0;
    font-size: 14px;
  }
  
  .modal-content {
    padding: 25px 20px;
    max-width: 350px;
  }
  
  .create-account-form input {
    padding: 10px 10px 10px 40px;
    font-size: 13px;
  }
  
  .create-account-form .input-wrapper i {
    left: 12px;
    font-size: 14px;
  }
}
</style>
</head>
<body>

<!-- Header -->
<header>
  <div class="container">
    <div class="header-content">
      <div class="logo">
        <div class="logo-icon">
          <i class="fas fa-utensils"></i>
        </div>
        <h1>KusinaExpress</h1>
      </div>
      
      <!-- Desktop Navigation -->
      <nav class="desktop-nav">
        <div class="nav-links">
          <a href="{% url 'restaurant:home' %}">Home</a>
          <a href="{% url 'restaurant:public_menu' %}">Menu</a>
          <a href="#" onclick="handleProtectedLink('Order')">Order</a>
          <a href="#" onclick="handleProtectedLink('Contact')">Contact</a>
          <a href="#" onclick="handleProtectedLink('About Us')">About Us</a>
        </div>
        <div class="auth-buttons">
          <a href="{% url 'restaurant:login' %}" class="btn btn-secondary" style="background-color: #C62828; color: white; border-color: #C62828;">
            <i class="fas fa-user" style="color: white;"></i> Sign In
          </a>
          <a href="#" onclick="handleProtectedLink('Cart')" class="btn btn-primary">
            <i class="fas fa-shopping-cart"></i> Cart
            <span class="cart-count empty">0</span>
          </a>
        </div>
      </nav>
      
      <!-- Mobile Menu Toggle -->
      <button class="menu-toggle" id="menuToggle">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
  </div>
</header>

<!-- Mobile Navigation -->
<div class="overlay" id="overlay"></div>
<nav class="mobile-nav" id="mobileNav">
  <a href="{% url 'restaurant:home' %}">
    <i class="fas fa-home"></i> Home
  </a>
  <a href="{% url 'restaurant:public_menu' %}">
    <i class="fas fa-utensils"></i> Menu
  </a>
  <a href="#" onclick="handleProtectedLink('Order')">
    <i class="fas fa-shopping-bag"></i> Order
  </a>
  <a href="#" onclick="handleProtectedLink('Contact')">
    <i class="fas fa-phone-alt"></i> Contact
  </a>
  <a href="#" onclick="handleProtectedLink('About Us')">
    <i class="fas fa-info-circle"></i> About Us
  </a>
  <div style="margin-top: 20px; display: flex; flex-direction: column; gap: 15px;">
    <a href="{% url 'restaurant:login' %}" class="btn" style="justify-content: center; background-color: #C62828; color: white; border-color: #C62828;">
      <i class="fas fa-user" style="color: white;"></i> Sign In
    </a>
    <a href="#" onclick="handleProtectedLink('Cart')" 
       class="btn" 
       style="justify-content: center; 
              background-color: #C62828; 
              border-color: #C62828; 
              color: white;">
      <i class="fas fa-shopping-cart" style="color: white;"></i> Cart
      <span class="cart-count empty">0</span>
    </a>
  </div>
</nav>

<!-- Login Required Modal -->
<div class="login-modal" id="loginModal">
  <div class="modal-content small">
    <button class="modal-close" onclick="closeLoginModal()">
      <i class="fas fa-times"></i>
    </button>
    <i class="fas fa-user-lock"></i>
    <h3 id="modalTitle">Login Required</h3>
    <p id="modalMessage">You need to log in to access this feature. Sign in to continue.</p>
    <div class="modal-buttons">
      <a href="{% url 'restaurant:login' %}" class="btn btn-primary">
        <i class="fas fa-sign-in-alt"></i> Sign In
      </a>
      <button class="btn btn-secondary" onclick="closeLoginModal()">
        <i class="fas fa-times"></i> Cancel
      </button>
    </div>
  </div>
</div>

<!-- Compact Create Account Modal -->
<div class="create-account-modal" id="createAccountModal">
  <div class="modal-content">
    <button class="modal-close" onclick="closeCreateAccountModal()">
      <i class="fas fa-times"></i>
    </button>
    <i class="fas fa-user-plus" style="color: var(--primary-color); font-size: 40px; margin-bottom: 15px;"></i>
    <h3 style="font-size: 22px; margin-bottom: 8px;">Create Account</h3>
    <p style="font-size: 14px; margin-bottom: 20px;">Join KusinaExpress to start ordering delicious Filipino food!</p>
    
    <form method="post" action="{% url 'restaurant:create_account' %}" class="create-account-form" id="createAccountForm">
      {% csrf_token %}
      <input type="hidden" name="role" value="user">
      
      <div class="name-fields">
        <div class="form-group">
          <label for="create-first-name">First Name</label>
          <div class="input-wrapper">
            <i class="fas fa-user"></i>
            <input type="text" name="first_name" id="create-first-name" placeholder="First name" required>
          </div>
          <div class="validation-message" id="first-name-error"></div>
        </div>
        
        <div class="form-group">
          <label for="create-last-name">Last Name</label>
          <div class="input-wrapper">
            <i class="fas fa-user"></i>
            <input type="text" name="last_name" id="create-last-name" placeholder="Last name" required>
          </div>
          <div class="validation-message" id="last-name-error"></div>
        </div>
      </div>
      
      <div class="form-group">
        <label for="create-email">Email Address</label>
        <div class="input-wrapper">
          <i class="fas fa-envelope"></i>
          <input type="email" name="email" id="create-email" placeholder="your@email.com" required>
        </div>
        <div class="validation-message" id="create-email-error"></div>
      </div>
      
      <div class="form-group">
        <label for="create-password">Password</label>
        <div class="input-wrapper">
          <i class="fas fa-lock"></i>
          <input type="password" name="password" id="create-password" placeholder="••••••••" required>
          <button type="button" class="password-toggle" id="createPasswordToggle">
            <i class="fas fa-eye"></i>
          </button>
        </div>
        <div class="password-strength" id="passwordStrength">
          <div class="password-strength-fill"></div>
        </div>
        <div class="password-strength-text" id="passwordStrengthText">Strength: None</div>
        <div class="validation-message" id="create-password-error"></div>
      </div>
      
      <div class="form-group">
        <label for="confirm-password">Confirm Password</label>
        <div class="input-wrapper">
          <i class="fas fa-lock"></i>
          <input type="password" name="confirm_password" id="confirm-password" placeholder="••••••••" required>
          <button type="button" class="password-toggle" id="confirmPasswordToggle">
            <i class="fas fa-eye"></i>
          </button>
        </div>
        <div class="validation-message" id="confirm-password-error"></div>
      </div>
      
      <div class="terms-agreement">
        <input type="checkbox" id="terms" name="terms" required>
        <label for="terms">
          I agree to the <a href="#" onclick="showTerms()">Terms</a> and <a href="#" onclick="showPrivacy()">Privacy Policy</a>
        </label>
      </div>
      
      <button type="submit" class="create-account-btn" id="createAccountBtn">
        <i class="fas fa-user-plus"></i> Create Account
      </button>
    </form>
    
    <div class="create-account-switch">
      Already have an account? <a href="#" onclick="showLoginInstead()">Sign In</a>
    </div>
  </div>
</div>

<!-- Modern Login Content -->
<main>
  <div class="container">
    <div class="login-container">
      <div class="left-side">
        <div class="left-side-content">
          <h2>Welcome Back</h2>
          <p>Sign in to access your account and continue your culinary journey with authentic Filipino flavors.</p>
          
          <div class="features">
            <div class="feature">
              <i class="fas fa-bolt"></i>
              <span>Fast & Secure Login</span>
            </div>
            <div class="feature">
              <i class="fas fa-truck"></i>
              <span>Track Your Orders</span>
            </div>
            <div class="feature">
              <i class="fas fa-star"></i>
              <span>Exclusive Member Offers</span>
            </div>
            <div class="feature">
              <i class="fas fa-shield-alt"></i>
              <span>Role-Based Access Control</span>
            </div>
          </div>
        </div>
      </div>
      <div class="right-side">
        <div class="auth-container">
          <div class="auth-header">
            <h2 id="authTitle">Sign In as User</h2>
            <p id="authDescription">Enter your credentials to access user features</p>
          </div>
          
          <div class="role-selection">
            <button type="button" id="user-role" class="active user">
              <i class="fas fa-user"></i> User
            </button>
            <button type="button" id="admin-role">
              <i class="fas fa-crown"></i> Admin
            </button>
          </div>
          
          <!-- Login Error Message (Inside Form) -->
          {% if error_type == 'role' %}
          <div class="login-error-message" id="loginErrorMessage">
            <i class="fas fa-exclamation-circle"></i>
            <div class="message-content">
              {% if selected_role == 'admin' %}
                This email is not registered as an admin. Please login as User or use an admin account.
              {% else %}
                This email is not registered as a regular user. Please login as Admin or use a user account.
              {% endif %}
            </div>
          </div>
          {% elif error_type == 'invalid' %}
          <div class="login-error-message" id="loginErrorMessage">
            <i class="fas fa-exclamation-circle"></i>
            <div class="message-content">
              Invalid email or password. Please try again.
            </div>
          </div>
          {% else %}
          <div class="login-error-message hidden" id="loginErrorMessage">
            <i class="fas fa-exclamation-circle"></i>
            <div class="message-content" id="errorMessageContent"></div>
          </div>
          {% endif %}
          
          <form method="post" id="loginForm" action="{% url 'restaurant:login' %}">
            {% csrf_token %}
            <input type="hidden" name="role" id="role-input" value="user">
            
            <div class="form-group">
              <label for="email">Email Address</label>
              <div class="input-wrapper">
                <i class="fas fa-envelope"></i>
                <input type="email" name="email" id="email" placeholder="Enter your email" required 
                       value="{% if form_email %}{{ form_email }}{% endif %}">
              </div>
              <div class="validation-message" id="email-error"></div>
            </div>
            
            <div class="form-group">
              <label for="password">Password</label>
              <div class="input-wrapper">
                <i class="fas fa-lock"></i>
                <input type="password" name="password" id="password" placeholder="Enter your password" required>
                <button type="button" class="password-toggle" id="passwordToggle">
                  <i class="fas fa-eye"></i>
                </button>
              </div>
              <div class="validation-message" id="password-error"></div>
            </div>
            
            <div class="remember-forgot">
              <div class="remember-me">
                <input type="checkbox" id="remember" name="remember">
                <label for="remember">Remember me</label>
              </div>
              <a href="#" class="forgot-password" onclick="showForgotPassword()">Forgot password?</a>
            </div>
            
            <button type="submit" class="submit-btn" id="submitBtn">
              <i class="fas fa-sign-in-alt"></i> Sign In
            </button>
          </form>
          
          <div class="divider">
            <span>Or continue with</span>
          </div>
          
          <div class="social-login">
            <button type="button" class="social-btn google">
              <i class="fab fa-google"></i> Google
            </button>
            <button type="button" class="social-btn facebook">
              <i class="fab fa-facebook-f"></i> Facebook
            </button>
          </div>
          
          <div class="switch-auth">
            Don't have an account? <a href="#" onclick="showCreateAccountModal()">Create Account</a>
          </div>
        </div>
      </div>
    </div>
  </div>
</main>

<!-- Footer -->
<footer>
  <div class="container">
    <div class="footer-content">
      <div class="footer-col">
        <div class="footer-logo">KusinaExpress</div>
        <p class="footer-description">Bringing authentic Filipino comfort food straight to your doorstep since 2020. Fast, fresh, and flavorful!</p>
        <div class="social-links">
          <a href="#" class="social-link">
            <i class="fab fa-facebook-f"></i>
          </a>
          <a href="#" class="social-link">
            <i class="fab fa-instagram"></i>
          </a>
          <a href="#" class="social-link">
            <i class="fab fa-twitter"></i>
          </a>
          <a href="#" class="social-link">
            <i class="fab fa-tiktok"></i>
          </a>
        </div>
      </div>
      
      <div class="footer-col">
        <h3 class="footer-heading">Quick Links</h3>
        <ul class="footer-links">
          <li><a href="{% url 'restaurant:home' %}">Home</a></li>
          <li><a href="{% url 'restaurant:public_menu' %}">Menu</a></li>
          <li><a href="#" onclick="handleProtectedLink('Order Online')">Order Online</a></li>
          <li><a href="#" onclick="handleProtectedLink('Catering')">Catering</a></li>
          <li><a href="#" onclick="handleProtectedLink('Gift Cards')">Gift Cards</a></li>
        </ul>
      </div>
      
      <div class="footer-col">
        <h3 class="footer-heading">Contact Info</h3>
        <ul class="footer-links">
          <li><i class="fas fa-map-marker-alt" style="margin-right: 10px;"></i> 123 Food Street, Manila, Philippines</li>
          <li><i class="fas fa-phone-alt" style="margin-right: 10px;"></i> +63 912 345 6789</li>
          <li><i class="fas fa-envelope" style="margin-right: 10px;"></i> hello@kusinaexpress.com</li>
          <li><i class="fas fa-clock" style="margin-right: 10px;"></i> Open Daily: 10AM - 10PM</li>
        </ul>
      </div>
      
      <div class="footer-col">
        <h3 class="footer-heading">Newsletter</h3>
        <p class="footer-description">Subscribe to get updates on new dishes and exclusive offers.</p>
        <div class="newsletter-form">
          <input type="email" class="newsletter-input" placeholder="Your email address">
          <button class="newsletter-btn">
            <i class="fas fa-paper-plane"></i>
          </button>
        </div>
      </div>
    </div>
    
    <div class="copyright">
      <p>© 2025 KusinaExpress. All rights reserved. | Proudly Serving Filipino Flavors</p>
    </div>
  </div>
</footer>

<script>
// Check if user is logged in
const isLoggedIn = false; // User is not logged in on login page

// Mobile menu toggle
const menuToggle = document.getElementById('menuToggle');
const mobileNav = document.getElementById('mobileNav');
const overlay = document.getElementById('overlay');

menuToggle.addEventListener('click', () => {
  menuToggle.classList.toggle('active');
  mobileNav.classList.toggle('active');
  overlay.classList.toggle('active');
  document.body.style.overflow = mobileNav.classList.contains('active') ? 'hidden' : 'auto';
});

overlay.addEventListener('click', () => {
  menuToggle.classList.remove('active');
  mobileNav.classList.remove('active');
  overlay.classList.remove('active');
  document.body.style.overflow = 'auto';
});

// Handle protected links
function handleProtectedLink(featureName) {
  if (!isLoggedIn) {
    let message = `You need to log in to access ${featureName}. Sign in to continue.`;
    
    if (featureName === 'Cart') {
      message = "You need to log in to view your cart. Sign in to see your items and checkout.";
    } else if (featureName === 'Order' || featureName === 'Order Online') {
      message = "You need to log in to place orders. Sign in to start ordering.";
    } else if (featureName === 'Contact') {
      message = "You need to log in to contact us. Sign in to send us a message or get support.";
    } else if (featureName === 'About Us') {
      message = "You need to log in to learn more about us. Sign in to access our story and team info.";
    } else if (featureName === 'Catering') {
      message = "You need to log in to inquire about catering services. Sign in to get more information.";
    } else if (featureName === 'Gift Cards') {
      message = "You need to log in to purchase or check gift cards. Sign in to continue.";
    }
    
    document.getElementById('modalTitle').textContent = `Login Required for ${featureName}`;
    document.getElementById('modalMessage').textContent = message;
    
    showLoginModal();
    return false;
  }
  return true;
}

// Login Modal Functions
function showLoginModal() {
  document.getElementById('loginModal').style.display = 'flex';
  document.body.style.overflow = 'hidden';
}

function closeLoginModal() {
  document.getElementById('loginModal').style.display = 'none';
  document.body.style.overflow = 'auto';
}

// Create Account Modal Functions
function showCreateAccountModal() {
  document.getElementById('createAccountModal').style.display = 'flex';
  document.body.style.overflow = 'hidden';
  // Focus on first name field
  document.getElementById('create-first-name').focus();
}

function closeCreateAccountModal() {
  document.getElementById('createAccountModal').style.display = 'none';
  document.body.style.overflow = 'auto';
}

// Show login instead
function showLoginInstead() {
  closeCreateAccountModal();
  // Focus on email field in login form
  document.getElementById('email').focus();
}

// Close modals when clicking outside
document.getElementById('loginModal').addEventListener('click', function(e) {
  if (e.target === this) {
    closeLoginModal();
  }
});

document.getElementById('createAccountModal').addEventListener('click', function(e) {
  if (e.target === this) {
    closeCreateAccountModal();
  }
});

// Close modals with Escape key
document.addEventListener('keydown', function(e) {
  if (e.key === 'Escape') {
    closeLoginModal();
    closeCreateAccountModal();
  }
});

// Role selection for login
const userBtn = document.getElementById('user-role');
const adminBtn = document.getElementById('admin-role');
const roleInput = document.getElementById('role-input');
const authTitle = document.getElementById('authTitle');
const authDescription = document.getElementById('authDescription');
const emailInput = document.getElementById('email');
const passwordInput = document.getElementById('password');
const loginErrorMessage = document.getElementById('loginErrorMessage');
const errorMessageContent = document.getElementById('errorMessageContent');

userBtn.addEventListener('click', () => {
  roleInput.value = 'user';
  userBtn.classList.add('active', 'user');
  adminBtn.classList.remove('active', 'admin');
  authTitle.textContent = 'Sign In as User';
  authDescription.textContent = 'Enter your credentials to access user features';
  passwordInput.placeholder = 'Enter your password';
  
  // Hide error message when switching roles
  if (loginErrorMessage) {
    loginErrorMessage.classList.add('hidden');
  }
});

adminBtn.addEventListener('click', () => {
  roleInput.value = 'admin';
  adminBtn.classList.add('active', 'admin');
  userBtn.classList.remove('active', 'user');
  authTitle.textContent = 'Sign In as Admin';
  authDescription.textContent = 'Enter admin credentials to access admin panel';
  passwordInput.placeholder = 'Enter admin password';
  
  // Hide error message when switching roles
  if (loginErrorMessage) {
    loginErrorMessage.classList.add('hidden');
  }
});

// Show error message function
function showErrorMessage(message) {
  if (loginErrorMessage && errorMessageContent) {
    errorMessageContent.textContent = message;
    loginErrorMessage.classList.remove('hidden');
  }
}

// Check if there's an error from Django backend
window.addEventListener('load', function() {
  // If there's an error message from Django, show it
  const errorDiv = document.querySelector('.login-error-message:not(.hidden)');
  if (errorDiv) {
    // Already showing from Django template
  }
});

// Password toggle for login form
const passwordToggle = document.getElementById('passwordToggle');

passwordToggle.addEventListener('click', () => {
  const type = passwordInput.getAttribute('type') === 'password' ? 'text' : 'password';
  passwordInput.setAttribute('type', type);
  passwordToggle.innerHTML = type === 'password' ? '<i class="fas fa-eye"></i>' : '<i class="fas fa-eye-slash"></i>';
});

// Password toggle for create account form
const createPasswordToggle = document.getElementById('createPasswordToggle');
const createPasswordInput = document.getElementById('create-password');
const confirmPasswordToggle = document.getElementById('confirmPasswordToggle');
const confirmPasswordInput = document.getElementById('confirm-password');

createPasswordToggle.addEventListener('click', () => {
  const type = createPasswordInput.getAttribute('type') === 'password' ? 'text' : 'password';
  createPasswordInput.setAttribute('type', type);
  createPasswordToggle.innerHTML = type === 'password' ? '<i class="fas fa-eye"></i>' : '<i class="fas fa-eye-slash"></i>';
});

confirmPasswordToggle.addEventListener('click', () => {
  const type = confirmPasswordInput.getAttribute('type') === 'password' ? 'text' : 'password';
  confirmPasswordInput.setAttribute('type', type);
  confirmPasswordToggle.innerHTML = type === 'password' ? '<i class="fas fa-eye"></i>' : '<i class="fas fa-eye-slash"></i>';
});

// Password strength indicator
createPasswordInput.addEventListener('input', function() {
  checkPasswordStrength(this.value);
});

function checkPasswordStrength(password) {
  const strengthBar = document.getElementById('passwordStrength');
  const strengthText = document.getElementById('passwordStrengthText');
  
  // Reset
  strengthBar.className = 'password-strength';
  strengthText.textContent = 'Strength: None';
  
  if (password.length === 0) return;
  
  let strength = 0;
  
  // Length check
  if (password.length >= 8) strength++;
  if (password.length >= 12) strength++;
  
  // Complexity checks
  if (/[a-z]/.test(password)) strength++;
  if (/[A-Z]/.test(password)) strength++;
  if (/[0-9]/.test(password)) strength++;
  if (/[^a-zA-Z0-9]/.test(password)) strength++;
  
  // Update UI
  if (strength <= 2) {
    strengthBar.className = 'password-strength weak';
    strengthText.textContent = 'Strength: Weak';
  } else if (strength <= 4) {
    strengthBar.className = 'password-strength medium';
    strengthText.textContent = 'Strength: Medium';
  } else {
    strengthBar.className = 'password-strength strong';
    strengthText.textContent = 'Strength: Strong';
  }
}

// Form validation helper functions
function showFieldError(field, message) {
  const wrapper = field.parentElement;
  const errorElement = field.parentElement.parentElement.querySelector('.validation-message');
  
  wrapper.classList.add('error');
  wrapper.classList.remove('success');
  errorElement.textContent = message;
  errorElement.className = 'validation-message error';
}

function clearFieldError(field) {
  const wrapper = field.parentElement;
  const errorElement = field.parentElement.parentElement.querySelector('.validation-message');
  
  wrapper.classList.remove('error');
  wrapper.classList.remove('success');
  errorElement.textContent = '';
  errorElement.className = 'validation-message';
}

function showFieldSuccess(field, message) {
  const wrapper = field.parentElement;
  const successElement = field.parentElement.parentElement.querySelector('.validation-message');
  
  wrapper.classList.remove('error');
  wrapper.classList.add('success');
  successElement.textContent = message;
  successElement.className = 'validation-message success';
}

// Login form validation
const loginForm = document.getElementById('loginForm');
const submitBtn = document.getElementById('submitBtn');

// Real-time email validation for login
emailInput.addEventListener('blur', function() {
  validateLoginEmail(this.value);
});

function validateLoginEmail(email) {
  const emailError = document.getElementById('email-error');
  
  if (!email) {
    showFieldError(emailInput, 'Email is required');
    return false;
  }
  
  const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
  if (!emailRegex.test(email)) {
    showFieldError(emailInput, 'Please enter a valid email address');
    return false;
  }
  
  clearFieldError(emailInput);
  return true;
}

// Real-time password validation for login
passwordInput.addEventListener('blur', function() {
  validateLoginPassword(this.value);
});

function validateLoginPassword(password) {
  if (!password) {
    showFieldError(passwordInput, 'Password is required');
    return false;
  }
  
  if (password.length < 6) {
    showFieldError(passwordInput, 'Password must be at least 6 characters');
    return false;
  }
  
  clearFieldError(passwordInput);
  return true;
}

// Login form submission
loginForm.addEventListener('submit', function(e) {
  e.preventDefault();
  
  const email = emailInput.value.trim();
  const password = passwordInput.value;
  const role = roleInput.value;
  
  // Hide any existing error message
  if (loginErrorMessage) {
    loginErrorMessage.classList.add('hidden');
  }
  
  // Validate form
  const isEmailValid = validateLoginEmail(email);
  const isPasswordValid = validateLoginPassword(password);
  
  if (!isEmailValid || !isPasswordValid) {
    return false;
  }
  
  // Show loading state
  const originalText = submitBtn.innerHTML;
  submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Signing in...';
  submitBtn.disabled = true;
  
  // Submit the form after a brief delay to show loading state
  setTimeout(() => {
    this.submit();
  }, 500);
  
  return true;
});

// Create account form validation
const createAccountForm = document.getElementById('createAccountForm');
const createAccountBtn = document.getElementById('createAccountBtn');

// Validate first name
const firstNameInput = document.getElementById('create-first-name');
firstNameInput.addEventListener('blur', function() {
  validateFirstName(this.value);
});

function validateFirstName(firstName) {
  if (!firstName) {
    showFieldError(firstNameInput, 'First name is required');
    return false;
  }
  
  if (firstName.length < 2) {
    showFieldError(firstNameInput, 'First name must be at least 2 characters');
    return false;
  }
  
  clearFieldError(firstNameInput);
  return true;
}

// Validate last name
const lastNameInput = document.getElementById('create-last-name');
lastNameInput.addEventListener('blur', function() {
  validateLastName(this.value);
});

function validateLastName(lastName) {
  if (!lastName) {
    showFieldError(lastNameInput, 'Last name is required');
    return false;
  }
  
  if (lastName.length < 2) {
    showFieldError(lastNameInput, 'Last name must be at least 2 characters');
    return false;
  }
  
  clearFieldError(lastNameInput);
  return true;
}

// Validate create account email
const createEmailInput = document.getElementById('create-email');
createEmailInput.addEventListener('blur', function() {
  validateCreateEmail(this.value);
});

function validateCreateEmail(email) {
  if (!email) {
    showFieldError(createEmailInput, 'Email is required');
    return false;
  }
  
  const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
  if (!emailRegex.test(email)) {
    showFieldError(createEmailInput, 'Please enter a valid email address');
    return false;
  }
  
  clearFieldError(createEmailInput);
  return true;
}

// Validate create account password
createPasswordInput.addEventListener('blur', function() {
  validateCreatePassword(this.value);
});

function validateCreatePassword(password) {
  if (!password) {
    showFieldError(createPasswordInput, 'Password is required');
    return false;
  }
  
  if (password.length < 8) {
    showFieldError(createPasswordInput, 'Password must be at least 8 characters');
    return false;
  }
  
  // Check for password complexity
  const hasLowercase = /[a-z]/.test(password);
  const hasUppercase = /[A-Z]/.test(password);
  const hasNumber = /[0-9]/.test(password);
  
  if (!hasLowercase || !hasUppercase || !hasNumber) {
    showFieldError(createPasswordInput, 'Password must include uppercase, lowercase letters and numbers');
    return false;
  }
  
  clearFieldError(createPasswordInput);
  return true;
}

// Validate confirm password
confirmPasswordInput.addEventListener('blur', function() {
  validateConfirmPassword(this.value);
});

function validateConfirmPassword(confirmPassword) {
  const password = createPasswordInput.value;
  
  if (!confirmPassword) {
    showFieldError(confirmPasswordInput, 'Please confirm your password');
    return false;
  }
  
  if (confirmPassword !== password) {
    showFieldError(confirmPasswordInput, 'Passwords do not match');
    return false;
  }
  
  clearFieldError(confirmPasswordInput);
  return true;
}

// Create account form submission
createAccountForm.addEventListener('submit', function(e) {
  e.preventDefault();
  
  const firstName = firstNameInput.value.trim();
  const lastName = lastNameInput.value.trim();
  const email = createEmailInput.value.trim();
  const password = createPasswordInput.value;
  const confirmPassword = confirmPasswordInput.value;
  const termsChecked = document.getElementById('terms').checked;
  
  // Validate all fields
  const isFirstNameValid = validateFirstName(firstName);
  const isLastNameValid = validateLastName(lastName);
  const isEmailValid = validateCreateEmail(email);
  const isPasswordValid = validateCreatePassword(password);
  const isConfirmPasswordValid = validateConfirmPassword(confirmPassword);
  
  if (!termsChecked) {
    return false;
  }
  
  if (!isFirstNameValid || !isLastNameValid || !isEmailValid || !isPasswordValid || !isConfirmPasswordValid) {
    return false;
  }
  
  // Show loading state
  const originalText = createAccountBtn.innerHTML;
  createAccountBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Creating Account...';
  createAccountBtn.disabled = true;
  
  // Submit the form after a brief delay to show loading state
  setTimeout(() => {
    this.submit();
  }, 500);
  
  return true;
});

// Social button hover effects
document.querySelectorAll('.social-btn').forEach(btn => {
  btn.addEventListener('mouseenter', function() {
    this.style.transform = 'translateY(-3px)';
  });
  
  btn.addEventListener('mouseleave', function() {
    this.style.transform = 'translateY(0)';
  });
});

// Update cart badge function
function updateCartBadge() {
  const cartBadges = document.querySelectorAll('.cart-count');
  cartBadges.forEach(badge => {
    badge.classList.add('empty');
  });
}

// Initialize cart badge
window.addEventListener('DOMContentLoaded', () => {
  updateCartBadge();
  
  // Prevent default behavior for protected links
  const protectedLinks = document.querySelectorAll('a[onclick*="handleProtectedLink"]');
  protectedLinks.forEach(link => {
    link.addEventListener('click', function(e) {
      if (!handleProtectedLink(this.textContent.trim())) {
        e.preventDefault();
      }
    });
  });
  
  // Update create account link to open modal
  const createAccountLink = document.querySelector('.switch-auth a');
  if (createAccountLink) {
    createAccountLink.onclick = function(e) {
      e.preventDefault();
      showCreateAccountModal();
    };
  }
});

// Focus on email field when page loads
window.addEventListener('load', function() {
  emailInput.focus();
});

// Terms and Privacy functions
function showTerms() {
  // No notification
}

function showPrivacy() {
  // No notification
}

function showForgotPassword() {
  // No notification
}
</script>

</body>
</html>